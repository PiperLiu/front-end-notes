# 霍春阳. (2022). Vue.js 设计与实现. 人民邮电出版社

> **记于 2024.09.09** 偶尔看看前端换换思路，这里更加灵活新潮，某种意义上的放松。

*****

本书刚刚出来的时候就买了，到我手里的日期是 2022 年 2 月 19 日。

忙着找工作（不是前端），没怎么读。其实一直很好奇 Vue.js 是怎么做的架构，毕竟影响如此大的前端框架，且一直声称自己性能强于 React 。我最好奇的就是：渲染器中与性能息息相关的 Diff 算法，真的是直接用 JavaScript 写的吗？垃圾回收这些东西也交给 Chrome 吗？成千上万个 DOM 节点，甚至有些表格型应用也是基于 Vue 的（ DOM 更多）这样的负担 JavaScript 负担得起吗？有什么好办法吗？（ Rust ？）

之前在学校初步读了一下，其中比如用 `if (__test__) {...}` 来相当于作为为 rollup.js 区分测试环境的“宏”这些，还是很有意思的（类型 C++ 的 `#ifdef` ？）。作者是循序渐进的，从 0 写一个 JavaScript 的类 Vue3 相应系统。

6 月 9 号带到北京来了，边实习边看吧，感觉可能看不完，因为以后不打算做前端了，且现在还有网络编程、服务端并行编程、分布式系统要学。

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [第一篇 框架设计概览](#第一篇-框架设计概览)
  - [第 1 章 权衡的艺术](#第-1-章-权衡的艺术)
  - [第 2 章 框架设计的核心要素](#第-2-章-框架设计的核心要素)
  - [第 3 章 Vue.js 3 的设计思路](#第-3-章-vuejs-3-的设计思路)

<!-- /code_chunk_output -->

### 第一篇 框架设计概览

#### 第 1 章 权衡的艺术

[./drafts/book.01.01.md](./drafts/book.01.01.md)

- [1.1 命令式和声明式](./drafts/book.01.01.md#11-命令式和声明式)
- [1.2 性能与可维护性的权衡](./drafts/book.01.01.md#12-性能与可维护性的权衡)
- [1.3 虚拟 DOM 的性能到底如何](./drafts/book.01.01.md#13-虚拟-dom-的性能到底如何)
- [1.4 运行时和编译时](./drafts/book.01.01.md#14-运行时和编译时)
- [1.5 总结](./drafts/book.01.01.md#15-总结)

#### 第 2 章 框架设计的核心要素

[./drafts/book.01.02.md](./drafts/book.01.02.md)

- [2.1 提升用户的开发体验](./drafts/book.01.02.md#21-提升用户的开发体验)
- [2.2 控制框架代码的体积](./drafts/book.01.02.md#22-控制框架代码的体积)
- [2.3 框架要做到良好的 Tree-Shaking](./drafts/book.01.02.md#23-框架要做到良好的-tree-shaking)
- [2.4 框架应该输出怎样的构建产物](./drafts/book.01.02.md#24-框架应该输出怎样的构建产物)
  - [IIFE 立即调用的函数表达式](./drafts/book.01.02.md#iife-立即调用的函数表达式)
- [主流浏览器已普遍支持的 ESM](./drafts/book.01.02.md#主流浏览器已普遍支持的-esm)
- [Node.js 使用的 CommonJS 模块](./drafts/book.01.02.md#nodejs-使用的-commonjs-模块)
- [2.5 特性开关](./drafts/book.01.02.md#25-特性开关)
- [2.6 错误处理](./drafts/book.01.02.md#26-错误处理)
- [2.7 良好的 TypeScript 类型支持](./drafts/book.01.02.md#27-良好的-typescript-类型支持)
- [2.8 总结](./drafts/book.01.02.md#28-总结)

#### 第 3 章 Vue.js 3 的设计思路

[./drafts/book.01.03.md](./drafts/book.01.03.md)
